# VoiceAI Agent - Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              VoiceAI Agent                                       │
│                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────┐ │
│   │                         CLIENT (Browser)                                   │ │
│   │                                                                            │ │
│   │    React + TypeScript     WebRTC Audio      WebSocket      Web Speech API │ │
│   │         (UI)               Capture          (Signaling)        (TTS)      │ │
│   │                               │                 ▲                ▲         │ │
│   └───────────────────────────────┼─────────────────┼────────────────┼─────────┘ │
│                                   │                 │                │           │
│                            Audio  │                 │  Text Response │           │
│                           (Binary)▼                 │     (JSON)     │           │
│                                   │                 │                │           │
│   ┌───────────────────────────────┼─────────────────┼────────────────┼─────────┐ │
│   │                         SERVER (Node.js)       │                │          │ │
│   │                               │                 │                │          │ │
│   │       WebRTC Server ◄─────────┘                 │                │          │ │
│   │         (werift)                                │                │          │ │
│   │             │                                   │                │          │ │
│   │             │              WebSocket Server ────┴────────────────┘          │ │
│   │             │                   (ws)                                        │ │
│   │             │                     ▲                                         │ │
│   └─────────────┼─────────────────────┼─────────────────────────────────────────┘ │
│                 │                     │                                           │
│           Audio │                     │ LLM Response                              │
│          Stream ▼                     │                                           │
│                 │                     │                                           │
│   ┌─────────────┼─────────────────────┼─────────────────────────────────────────┐ │
│   │             │           EXTERNAL SERVICES                                    │ │
│   │             ▼                     │                                          │ │
│   │    Deepgram Nova-2 (STT) ───────► Groq Llama 3.3 (LLM)                      │ │
│   │         (Audio → Text)      Transcript      (Text → Response)               │ │
│   │                                                                              │ │
│   └──────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## Data Flow

```
USER SPEAKS → Mic → WebRTC → Server → Deepgram STT → Groq LLM → Server → WebSocket → Browser TTS → AI SPEAKS
     │                                                                                                  ▲
     └──────────────────────────────────────────────────────────────────────────────────────────────────┘
```
